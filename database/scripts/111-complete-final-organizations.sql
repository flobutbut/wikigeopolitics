-- Script pour compléter les dernières organisations avec 0 membres

-- 1. AIE (Agence internationale de l'énergie) - 31 membres
INSERT INTO country_organization (countryid, organizationid, role, dateadhesion) VALUES
('australia', 'org_iea', 'membre', '1979-01-01'),
('austria', 'org_iea', 'membre', '1979-01-01'),
('belgium', 'org_iea', 'membre', '1979-01-01'),
('canada', 'org_iea', 'membre', '1979-01-01'),
('czech-republic', 'org_iea', 'membre', '2001-01-01'),
('denmark', 'org_iea', 'membre', '1979-01-01'),
('estonia', 'org_iea', 'membre', '2014-01-01'),
('finland', 'org_iea', 'membre', '1992-01-01'),
('france', 'org_iea', 'membre', '1979-01-01'),
('germany', 'org_iea', 'membre', '1979-01-01'),
('greece', 'org_iea', 'membre', '1979-01-01'),
('hungary', 'org_iea', 'membre', '1997-01-01'),
('ireland', 'org_iea', 'membre', '1979-01-01'),
('italy', 'org_iea', 'membre', '1979-01-01'),
('japan', 'org_iea', 'membre', '1979-01-01'),
('korea', 'org_iea', 'membre', '2002-01-01'),
('latvia', 'org_iea', 'membre', '2016-01-01'),
('luxembourg', 'org_iea', 'membre', '1979-01-01'),
('mexico', 'org_iea', 'membre', '2018-01-01'),
('netherlands', 'org_iea', 'membre', '1979-01-01'),
('new-zealand', 'org_iea', 'membre', '1979-01-01'),
('norway', 'org_iea', 'membre', '1979-01-01'),
('poland', 'org_iea', 'membre', '2008-01-01'),
('portugal', 'org_iea', 'membre', '1981-01-01'),
('slovakia', 'org_iea', 'membre', '2007-01-01'),
('spain', 'org_iea', 'membre', '1979-01-01'),
('sweden', 'org_iea', 'membre', '1979-01-01'),
('switzerland', 'org_iea', 'membre', '1979-01-01'),
('turkey', 'org_iea', 'membre', '1981-01-01'),
('uk', 'org_iea', 'membre', '1979-01-01'),
('usa', 'org_iea', 'membre', '1979-01-01')
ON CONFLICT (countryid, organizationid) DO NOTHING;

-- 2. IRENA (Agence internationale pour les énergies renouvelables) - 168 membres
INSERT INTO country_organization (countryid, organizationid, role, dateadhesion) VALUES
('afghanistan', 'org_irena', 'membre', '2010-01-01'),
('albania', 'org_irena', 'membre', '2010-01-01'),
('algeria', 'org_irena', 'membre', '2010-01-01'),
('angola', 'org_irena', 'membre', '2010-01-01'),
('antigua-and-barbuda', 'org_irena', 'membre', '2010-01-01'),
('argentina', 'org_irena', 'membre', '2010-01-01'),
('armenia', 'org_irena', 'membre', '2010-01-01'),
('australia', 'org_irena', 'membre', '2010-01-01'),
('austria', 'org_irena', 'membre', '2010-01-01'),
('azerbaijan', 'org_irena', 'membre', '2010-01-01'),
('bahamas', 'org_irena', 'membre', '2010-01-01'),
('bahrain', 'org_irena', 'membre', '2010-01-01'),
('bangladesh', 'org_irena', 'membre', '2010-01-01'),
('barbados', 'org_irena', 'membre', '2010-01-01'),
('belgium', 'org_irena', 'membre', '2010-01-01'),
('belize', 'org_irena', 'membre', '2010-01-01'),
('benin', 'org_irena', 'membre', '2010-01-01'),
('bhutan', 'org_irena', 'membre', '2010-01-01'),
('bolivia', 'org_irena', 'membre', '2010-01-01'),
('bosnia-and-herzegovina', 'org_irena', 'membre', '2010-01-01'),
('botswana', 'org_irena', 'membre', '2010-01-01'),
('brazil', 'org_irena', 'membre', '2010-01-01'),
('brunei', 'org_irena', 'membre', '2010-01-01'),
('bulgaria', 'org_irena', 'membre', '2010-01-01'),
('burkina-faso', 'org_irena', 'membre', '2010-01-01'),
('burundi', 'org_irena', 'membre', '2010-01-01'),
('cambodia', 'org_irena', 'membre', '2010-01-01'),
('cameroon', 'org_irena', 'membre', '2010-01-01'),
('canada', 'org_irena', 'membre', '2010-01-01'),
('cape-verde', 'org_irena', 'membre', '2010-01-01'),
('central-african-republic', 'org_irena', 'membre', '2010-01-01'),
('chad', 'org_irena', 'membre', '2010-01-01'),
('chile', 'org_irena', 'membre', '2010-01-01'),
('china', 'org_irena', 'membre', '2010-01-01'),
('colombia', 'org_irena', 'membre', '2010-01-01'),
('comoros', 'org_irena', 'membre', '2010-01-01'),
('congo', 'org_irena', 'membre', '2010-01-01'),
('costa-rica', 'org_irena', 'membre', '2010-01-01'),
('ivory-coast', 'org_irena', 'membre', '2010-01-01'),
('croatia', 'org_irena', 'membre', '2010-01-01'),
('cyprus', 'org_irena', 'membre', '2010-01-01'),
('czech-republic', 'org_irena', 'membre', '2010-01-01'),
('democratic-republic-of-congo', 'org_irena', 'membre', '2010-01-01'),
('denmark', 'org_irena', 'membre', '2010-01-01'),
('djibouti', 'org_irena', 'membre', '2010-01-01'),
('dominica', 'org_irena', 'membre', '2010-01-01'),
('dominican-republic', 'org_irena', 'membre', '2010-01-01'),
('ecuador', 'org_irena', 'membre', '2010-01-01'),
('egypt', 'org_irena', 'membre', '2010-01-01'),
('el-salvador', 'org_irena', 'membre', '2010-01-01'),
('equatorial-guinea', 'org_irena', 'membre', '2010-01-01'),
('eritrea', 'org_irena', 'membre', '2010-01-01'),
('estonia', 'org_irena', 'membre', '2010-01-01'),
('eswatini', 'org_irena', 'membre', '2010-01-01'),
('ethiopia', 'org_irena', 'membre', '2010-01-01'),
('fiji', 'org_irena', 'membre', '2010-01-01'),
('finland', 'org_irena', 'membre', '2010-01-01'),
('france', 'org_irena', 'membre', '2010-01-01'),
('gabon', 'org_irena', 'membre', '2010-01-01'),
('gambia', 'org_irena', 'membre', '2010-01-01'),
('georgia', 'org_irena', 'membre', '2010-01-01'),
('germany', 'org_irena', 'membre', '2010-01-01'),
('ghana', 'org_irena', 'membre', '2010-01-01'),
('greece', 'org_irena', 'membre', '2010-01-01'),
('grenada', 'org_irena', 'membre', '2010-01-01'),
('guatemala', 'org_irena', 'membre', '2010-01-01'),
('guinea', 'org_irena', 'membre', '2010-01-01'),
('guinea-bissau', 'org_irena', 'membre', '2010-01-01'),
('guyana', 'org_irena', 'membre', '2010-01-01'),
('haiti', 'org_irena', 'membre', '2010-01-01'),
('honduras', 'org_irena', 'membre', '2010-01-01'),
('hungary', 'org_irena', 'membre', '2010-01-01'),
('iceland', 'org_irena', 'membre', '2010-01-01'),
('india', 'org_irena', 'membre', '2010-01-01'),
('indonesia', 'org_irena', 'membre', '2010-01-01'),
('iran', 'org_irena', 'membre', '2010-01-01'),
('iraq', 'org_irena', 'membre', '2010-01-01'),
('ireland', 'org_irena', 'membre', '2010-01-01'),
('israel', 'org_irena', 'membre', '2010-01-01'),
('italy', 'org_irena', 'membre', '2010-01-01'),
('jamaica', 'org_irena', 'membre', '2010-01-01'),
('japan', 'org_irena', 'membre', '2010-01-01'),
('jordan', 'org_irena', 'membre', '2010-01-01'),
('kazakhstan', 'org_irena', 'membre', '2010-01-01'),
('kenya', 'org_irena', 'membre', '2010-01-01'),
('kiribati', 'org_irena', 'membre', '2010-01-01'),
('kuwait', 'org_irena', 'membre', '2010-01-01'),
('kyrgyzstan', 'org_irena', 'membre', '2010-01-01'),
('laos', 'org_irena', 'membre', '2010-01-01'),
('latvia', 'org_irena', 'membre', '2010-01-01'),
('lebanon', 'org_irena', 'membre', '2010-01-01'),
('lesotho', 'org_irena', 'membre', '2010-01-01'),
('liberia', 'org_irena', 'membre', '2010-01-01'),
('libya', 'org_irena', 'membre', '2010-01-01'),
('lithuania', 'org_irena', 'membre', '2010-01-01'),
('luxembourg', 'org_irena', 'membre', '2010-01-01'),
('madagascar', 'org_irena', 'membre', '2010-01-01'),
('malawi', 'org_irena', 'membre', '2010-01-01'),
('malaysia', 'org_irena', 'membre', '2010-01-01'),
('maldives', 'org_irena', 'membre', '2010-01-01'),
('mali', 'org_irena', 'membre', '2010-01-01'),
('malta', 'org_irena', 'membre', '2010-01-01'),
('mauritania', 'org_irena', 'membre', '2010-01-01'),
('mauritius', 'org_irena', 'membre', '2010-01-01'),
('mexico', 'org_irena', 'membre', '2010-01-01'),
('moldova', 'org_irena', 'membre', '2010-01-01'),
('mongolia', 'org_irena', 'membre', '2010-01-01'),
('montenegro', 'org_irena', 'membre', '2010-01-01'),
('morocco', 'org_irena', 'membre', '2010-01-01'),
('mozambique', 'org_irena', 'membre', '2010-01-01'),
('myanmar', 'org_irena', 'membre', '2010-01-01'),
('namibia', 'org_irena', 'membre', '2010-01-01'),
('nepal', 'org_irena', 'membre', '2010-01-01'),
('netherlands', 'org_irena', 'membre', '2010-01-01'),
('new-zealand', 'org_irena', 'membre', '2010-01-01'),
('nicaragua', 'org_irena', 'membre', '2010-01-01'),
('niger', 'org_irena', 'membre', '2010-01-01'),
('nigeria', 'org_irena', 'membre', '2010-01-01'),
('north-macedonia', 'org_irena', 'membre', '2010-01-01'),
('norway', 'org_irena', 'membre', '2010-01-01'),
('oman', 'org_irena', 'membre', '2010-01-01'),
('pakistan', 'org_irena', 'membre', '2010-01-01'),
('panama', 'org_irena', 'membre', '2010-01-01'),
('papua-new-guinea', 'org_irena', 'membre', '2010-01-01'),
('paraguay', 'org_irena', 'membre', '2010-01-01'),
('peru', 'org_irena', 'membre', '2010-01-01'),
('philippines', 'org_irena', 'membre', '2010-01-01'),
('poland', 'org_irena', 'membre', '2010-01-01'),
('portugal', 'org_irena', 'membre', '2010-01-01'),
('qatar', 'org_irena', 'membre', '2010-01-01'),
('romania', 'org_irena', 'membre', '2010-01-01'),
('rwanda', 'org_irena', 'membre', '2010-01-01'),
('saint-kitts-and-nevis', 'org_irena', 'membre', '2010-01-01'),
('saint-lucia', 'org_irena', 'membre', '2010-01-01'),
('saint-vincent-and-the-grenadines', 'org_irena', 'membre', '2010-01-01'),
('samoa', 'org_irena', 'membre', '2010-01-01'),
('saudi-arabia', 'org_irena', 'membre', '2010-01-01'),
('senegal', 'org_irena', 'membre', '2010-01-01'),
('serbia', 'org_irena', 'membre', '2010-01-01'),
('seychelles', 'org_irena', 'membre', '2010-01-01'),
('sierra-leone', 'org_irena', 'membre', '2010-01-01'),
('singapore', 'org_irena', 'membre', '2010-01-01'),
('slovakia', 'org_irena', 'membre', '2010-01-01'),
('slovenia', 'org_irena', 'membre', '2010-01-01'),
('solomon-islands', 'org_irena', 'membre', '2010-01-01'),
('somalia', 'org_irena', 'membre', '2010-01-01'),
('south-africa', 'org_irena', 'membre', '2010-01-01'),
('south-sudan', 'org_irena', 'membre', '2010-01-01'),
('spain', 'org_irena', 'membre', '2010-01-01'),
('sri-lanka', 'org_irena', 'membre', '2010-01-01'),
('sudan', 'org_irena', 'membre', '2010-01-01'),
('suriname', 'org_irena', 'membre', '2010-01-01'),
('sweden', 'org_irena', 'membre', '2010-01-01'),
('switzerland', 'org_irena', 'membre', '2010-01-01'),
('syria', 'org_irena', 'membre', '2010-01-01'),
('tajikistan', 'org_irena', 'membre', '2010-01-01'),
('tanzania', 'org_irena', 'membre', '2010-01-01'),
('thailand', 'org_irena', 'membre', '2010-01-01'),
('timor-leste', 'org_irena', 'membre', '2010-01-01'),
('togo', 'org_irena', 'membre', '2010-01-01'),
('tonga', 'org_irena', 'membre', '2010-01-01'),
('trinidad-and-tobago', 'org_irena', 'membre', '2010-01-01'),
('tunisia', 'org_irena', 'membre', '2010-01-01'),
('turkey', 'org_irena', 'membre', '2010-01-01'),
('turkmenistan', 'org_irena', 'membre', '2010-01-01'),
('tuvalu', 'org_irena', 'membre', '2010-01-01'),
('uganda', 'org_irena', 'membre', '2010-01-01'),
('uk', 'org_irena', 'membre', '2010-01-01'),
('ukraine', 'org_irena', 'membre', '2010-01-01'),
('united-arab-emirates', 'org_irena', 'membre', '2010-01-01'),
('uruguay', 'org_irena', 'membre', '2010-01-01'),
('uzbekistan', 'org_irena', 'membre', '2010-01-01'),
('vanuatu', 'org_irena', 'membre', '2010-01-01'),
('venezuela', 'org_irena', 'membre', '2010-01-01'),
('vietnam', 'org_irena', 'membre', '2010-01-01'),
('yemen', 'org_irena', 'membre', '2010-01-01'),
('zambia', 'org_irena', 'membre', '2010-01-01'),
('zimbabwe', 'org_irena', 'membre', '2010-01-01')
ON CONFLICT (countryid, organizationid) DO NOTHING;

-- Vérification finale
SELECT o.id, o.nom, o.acronyme, COUNT(co.countryid) as member_count 
FROM organization o 
LEFT JOIN country_organization co ON o.id = co.organizationid 
GROUP BY o.id, o.nom, o.acronyme 
ORDER BY member_count ASC, o.nom; 